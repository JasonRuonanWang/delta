
Data sources
============

`Delta` sources experimental data through data sources. An instantiated data source
object is used in generators to load chunks of experimental data and stage it for transport.
Here is an example of how data sources are used:

.. code-block:: python
    :linenos:

    sources.helpers import get_loader

    dataloader = get_loader(cfg)
    for nstep, chunk in dataloader.batchgenerator()
        do_things_with(chunk)


Dataloader objects are generated by the :py:func:`sources.helpers.get_loader` object factory, 
passing only the `Delta` configuration to the factory. Internally, :py:func:`sources.helpers.get_loader`
queries the field `diagnostic.name` to select the proper dataloader. Implementing a new dataloader requires
to register it in `get_loader`.

To be useful in a streaming setting, any :meth:`batchgenerator` returns the instances of a data_model.

KSTAR ECEI source
-----------------
.. automodule:: sources.helpers
    :members:

.. automodule:: sources.loader_kstarecei
    :members:
    :special-members: __init__